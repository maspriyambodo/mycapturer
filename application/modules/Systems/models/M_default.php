<?php defined("\x42\x41\x53\x45\120\101\x54\x48") or die("\x4e\157\40\144\151\162\x65\x63\164\40\x73\143\x72\151\x70\164\x20\141\x63\143\x65\163\163\40\141\154\154\x6f\x77\x65\144"); class M_default extends CI_Model { public function Sys() { $exec = $this->db->query("\103\x41\114\x4c\40\163\x79\x73\x5f\141\160\160\x5f\x73\x65\154\145\143\x74\50\51\x3b")->row(); mysqli_next_result($this->db->conn_id); return $exec; } public function Menu() { if ($this->session->userdata("\151\144\137\x75\163\x65\x72")) { $exec = $this->db->query("\x43\x41\114\x4c\x20\163\171\x73\137\x6d\145\x6e\x75\x5f\163\145\154\x65\x63\x74\x28" . $this->bodo->Dec($this->session->userdata("\162\157\x6c\145\x5f\x69\144")) . "\x29\x3b"); mysqli_next_result($this->db->conn_id); } else { redirect(base_url("\x41\165\164\x68\x2f\x69\156\x64\145\x78\x2f")); } return $exec; } public function Group_menu() { $exec = $this->db->query("\103\101\x4c\114\x20\147\x72\x6f\x75\x70\x5f\x6d\x65\x6e\x75\50\51\x3b")->result(); foreach ($exec as $key => $value) { $item[$key] = $value->link; } mysqli_next_result($this->db->conn_id); return $item; } public function Roles($param) { $role_id = $this->bodo->Dec($this->session->userdata("\x72\x6f\x6c\x65\137\x69\x64")); if (!$role_id or empty($role_id)) { $exec = redirect(base_url("\123\151\147\156\x69\156"), $this->session->set_flashdata("\x65\162\162\x5f\155\x73\x67", "\171\157\165\x20\156\145\145\x64\40\x73\x69\147\156\151\x6e\x20\x74\x6f\40\x61\143\143\x65\163\x73\x20\164\x68\x65\40\163\171\163\164\145\155")); } elseif ($param == 0 and $role_id == 1) { $exec = $this->db->query("\x43\101\x4c\114\x20\x73\x79\x73\x5f\x72\x6f\154\x65\163\x5f\x73\145\154\145\143\164\50\42" . $param . "\42\51\x3b"); mysqli_next_result($this->db->conn_id); } elseif ($param == 0 and $role_id != 1) { $exec = $this->db->select()->from("\163\171\163\x5f\162\x6f\154\145\x73\137\x73\x65\x6c\145\x63\164")->where(array("\x60\x73\171\163\x5f\x72\157\154\145\x73\137\163\145\x6c\x65\x63\164\x60\x2e\140\163\164\x61\x74\165\x73\137\x67\162\x75\160\x60" => 1 + false, "\140\x73\x79\163\137\162\x6f\154\145\163\137\163\x65\154\x65\143\x74\140\x2e\x60\x70\x61\162\x65\156\x74\137\x69\144\140" => $role_id + false))->or_where("\x60\x73\171\x73\x5f\x72\157\x6c\x65\x73\137\x73\145\x6c\x65\143\164\140\56\x60\x73\x74\x61\x74\165\x73\137\x67\x72\165\160\x60", 1, false)->where("\x60\x73\x79\163\x5f\162\x6f\154\145\163\137\163\145\x6c\x65\143\164\x60\x2e\140\x69\144\137\147\162\165\x70\x60", $role_id, false)->get(); } else { $exec = $this->db->query("\103\101\114\114\x20\x73\171\x73\137\x72\x6f\x6c\145\x73\137\x73\145\x6c\x65\x63\x74\50\x22" . $param . "\x22\x29\x3b"); mysqli_next_result($this->db->conn_id); } return $exec; } public function Permission($id) { $exec = $this->db->query("\x43\x41\114\114\40\x73\x79\x73\137\x70\x65\162\155\151\x73\163\151\x6f\156\x5f\163\145\154\x65\x63\x74\50\42" . $id . "\x22\51\73"); mysqli_next_result($this->db->conn_id); return $exec; } }